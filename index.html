<!doctype html>
<html>
	<head>
		<title>MVW Intern Kalender</title>
		<meta charset="utf-8">
		<script src="bower_components/moment/moment.js"></script>
		<script src="bower_components/moment/locale/de.js"></script>
		<script src="bower_components/ractive/ractive.min.js"></script>
	</head>
	<body>
		<div id="calendar"></div>

		<!-- <div type="text/ractive" id="template"> -->
		<script type="text/ractive" id="template">
			<p>
				<button on-click="prev-month">←</button>
				<strong>{{monthname}}</strong>
				<button on-click="next-month">→</button>
			</p>
			<table>
				<tr>
					{{#weekdays}}
					<th>{{.}}</th>
					{{/weekdays}}
				</tr>
				{{#weeks}}
				<tr>
					{{#days}}
					<td>
						{{day}}{{#if outside}}*{{/if}}
						<ul>
							{{#each getDayEvents(moment) }}
							<li on-click="show-event">
								{{ formatTime(start) }}: {{title}}
							</li>
							{{/each}}
						</ul>
					</td>
					{{/days}}
				</tr>
				{{#if isSameWeek(days[0].moment, activeEvent.start) }}
				{{#activeEvent}}
				<tr>
					<td colspan=7>
						{{>event}}
					</td>
				</tr>
				{{/activeEvent}}
				{{/if}}
				{{/weeks}}
			</table>

			<!-- {{>event}} -->
			<h2>{{title}}<button on-click="hide-event">X</button></h2>
			<p>{{ formatDateTime(start) }} bis {{ formatTime(end) }}</p>
			<p>{{desc}}</p>
			<p>
				<button on-click="ack-event">Ich bin dabei</button>
				<button on-click="nack-event">Keine Zeit</button>
			</p>
			<!-- {{/event}} -->
		</script>
		<script src="calendar.js"></script>

	</body>
</html>
